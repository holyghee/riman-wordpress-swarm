/* Riman Category Hero Slider – final, clean + hard full-bleed */

/* Bleed in allen üblichen Wrapper-Situationen */
.wp-block-riman-category-hero-slider.alignfull,
.riman-hero-slider.alignfull{
  max-width:100vw;
  width:100vw;
  margin-left:calc(50% - 50vw) !important;
  margin-right:calc(50% - 50vw) !important;
}
/* Falls der Block in einer Group/Constrained steckt, trotzdem nicht abschneiden */
.wp-site-blocks .wp-block-group > .wp-block-riman-category-hero-slider.alignfull,
.wp-site-blocks .wp-block-group > .riman-hero-slider.alignfull{
  max-width:100vw;
  width:100vw;
  margin-left:calc(50% - 50vw) !important;
  margin-right:calc(50% - 50vw) !important;
  overflow:visible;
}

/* Grundlayout */
.riman-hero-slider{
  position:relative; overflow:hidden;
  --riman-hero-min-h:560px; --riman-hero-overlay:.3; --riman-hero-duration:700ms;
  /* Parallax overscan margin (top/bottom & left/right). Can be overridden per-instance. */
  --riman-parallax-overscan: 30%;
  min-height:var(--riman-hero-min-h);
}
.riman-hero-slider.arrows-outside{ overflow:visible; }

.riman-hero-track{ width:100%; height:100%; min-height:var(--riman-hero-min-h); }
.riman-hero-slide{
  position:relative; min-width:100%; min-height:var(--riman-hero-min-h);
  background:linear-gradient(135deg,#667eea 0%,#764ba2 100%) no-repeat center/cover;
}

/* EIN Overlay-Element */
.riman-hero-overlay{ position:absolute; inset:0; background:rgba(0,0,0,var(--riman-hero-overlay)); z-index:1; }

.riman-hero-video{ position:absolute; inset:0; width:100%; height:100%; object-fit:cover; z-index:0; display:block; }
.riman-hero-bg   { position:absolute; inset:0; background-size:cover; background-position:center; z-index:0; }

/* Inhalt */
.riman-hero-inner{
  position:relative; z-index:2; height:100%;
  display:flex; align-items:center; justify-content:center; text-align:center;
  padding: var(--wp--style--root--padding, 0) 1rem;
}
.riman-hero-title{ color:var(--wp--preset--color--base,#fff); margin:0 0 .25em; font-size:clamp(2rem,5vw,3.2rem); }
.riman-hero-desc { color:var(--wp--preset--color--base,#fff); opacity:.9; max-width:min(900px,92vw); margin:0 auto 22px; }
.riman-hero-cta  { display:inline-block; margin-top:.75rem; color:var(--wp--preset--color--base,#fff); border:1px solid currentColor; padding:.5rem 1rem; border-radius:6px; text-decoration:none; }

/* Fade */
.riman-hero-slider.anim-fade .riman-hero-track{ position:relative; }
.riman-hero-slider.anim-fade .riman-hero-slide{ position:absolute; inset:0; opacity:0; transition:opacity var(--riman-hero-duration) ease; }
.riman-hero-slider.anim-fade .riman-hero-slide.active{ opacity:1; }

/* Slide */
.riman-hero-slider.anim-slide .riman-hero-track{ display:flex; transition:transform var(--riman-hero-duration) ease; will-change:transform; }
.riman-hero-slider.anim-slide .riman-hero-slide{ flex:0 0 100%; }

/* Pfeile */
.riman-hero-nav{
  position:absolute; top:50%; transform:translateY(-50%);
  width:52px; height:52px; border-radius:50%;
  background:rgba(0,0,0,.35); color:#fff; border:0; cursor:pointer;
  font-size:28px; line-height:52px; text-align:center;
  box-shadow:0 6px 18px rgba(0,0,0,.25); transition:transform .2s; z-index:3;
}
.riman-hero-nav.prev{ left:12px; } .riman-hero-nav.next{ right:12px; }
.riman-hero-nav:hover{ transform:translateY(-50%) scale(1.07); }
.riman-hero-slider.arrows-square .riman-hero-nav{ border-radius:10px; }
.riman-hero-slider.arrows-dark .riman-hero-nav{ background:rgba(0,0,0,.7); color:#fff; }
.riman-hero-slider.arrows-ghost .riman-hero-nav{ background:rgba(255,255,255,.2); color:#fff; backdrop-filter:blur(3px); }
.riman-hero-slider.arrows-outside .riman-hero-nav.prev{ left:-26px; }
.riman-hero-slider.arrows-outside .riman-hero-nav.next{ right:-26px; }

/* Dots */
.riman-hero-indicators{
  position:absolute; left:50%; transform:translateX(-50%);
  bottom:12px; display:flex; gap:8px; z-index:3;
}
.riman-hero-indicators .dot{ width:10px; height:10px; border-radius:999px; background:rgba(255,255,255,.5); border:0; }
.riman-hero-indicators .dot.active{ background:#fff; }

/* Parallax */
/* Nur im "fixed"-Modus fixiertes Attachment nutzen */
.riman-hero-slider.parallax-fixed .riman-hero-bg{ background-attachment:fixed; }

/* Mobile */
@media (max-width:782px){
  .riman-hero-inner{ padding:40px 16px; }
}

/* Parallax smoother */
.riman-hero-slider.has-parallax .riman-hero-bg,
.riman-hero-slider.has-parallax .riman-hero-video{
  will-change: transform;
}

/* Parallax: Overscan-Elemente dürfen die Slide überragen (werden via JS gesetzt) */
.riman-hero-slider.has-parallax .riman-hero-bg,
.riman-hero-slider.has-parallax .riman-hero-video{
  position:absolute; left:0; right:0; top:0; bottom:0;  /* JS überschreibt transform */
  will-change: transform;
}


/* Video Container & Styling */
.riman-hero-video-container{
  position: absolute;
  inset: 0;
  z-index: 0;
  overflow: hidden;
}

.riman-hero-video{
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  z-index: 0;
  will-change: transform;
  transform-origin: center center;
}

/* Video-spezifische Parallax-Optimierungen */
.riman-hero-slide.has-video {
  overflow: hidden;
}

.riman-hero-slide.has-video .riman-hero-video {
  /* Overscan für Parallax-Movement (vermeidet Kanten-Bleeding) */
  width: calc(100% + 2 * var(--riman-parallax-overscan));
  height: calc(100% + 2 * var(--riman-parallax-overscan));
  top: calc(-1 * var(--riman-parallax-overscan));
  left: calc(-1 * var(--riman-parallax-overscan));
}

/* Gleiche Overscan-Logik für parallaxen Bild-Background */
.riman-hero-slider.has-parallax .riman-hero-bg{
  width: calc(100% + 2 * var(--riman-parallax-overscan));
  height: calc(100% + 2 * var(--riman-parallax-overscan));
  top: calc(-1 * var(--riman-parallax-overscan));
  left: calc(-1 * var(--riman-parallax-overscan));
}

/* Fallback für Videos ohne Autoplay */
.riman-hero-video:not([autoplay]) {
  background: rgba(0,0,0,0.1);
}

/* Video Loading State */
.riman-hero-video:not([data-loaded="true"]) {
  opacity: 0;
  transition: opacity 0.5s ease;
}

.riman-hero-video[data-loaded="true"] {
  opacity: 1;
}
